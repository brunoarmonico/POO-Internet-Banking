CREATE DATABASE BANCOHUE

GO
USE BANCOHUE

CREATE TABLE CLIENTE (
CPF CHAR (11) UNIQUE NOT NULL,
NOME VARCHAR (200) NOT NULL,
AGENCIA CHAR (4) NOT NULL,
CONTA VARCHAR (10) NOT NULL,
SALDO DECIMAL (10,2) NOT NULL,
PRIMARY KEY(CPF)
)

CREATE TABLE LOGIN(
LOGIN NVARCHAR (50) UNIQUE NOT NULL,
SENHA NVARCHAR (30) NOT NULL,
CPF CHAR (11) NOT NULL,
PRIMARY KEY (LOGIN),
FOREIGN KEY (CPF) REFERENCES CLIENTE (CPF)
)

select * from cliente
--DROP TABLE LOGIN

CREATE TABLE EXTRATO  (
DATAOCORRENCIA DATE NOT NULL,
OCORRENCIA VARCHAR (200) NOT NULL,
AGENCIA CHAR (4) NOT NULL,
CONTA VARCHAR (10) NOT NULL,
CPF CHAR (11) NOT NULL
FOREIGN KEY (CPF) REFERENCES CLIENTE (CPF)
)

INSERT INTO CLIENTE (CPF, NOME, AGENCIA, CONTA, SALDO) VALUES
('11111111111', 'FULANO DE TAL', 1122, '12345678', 2000.00),
('22222222222', 'BELTRANO DE TAL', 1122, '444444-X', 5000.00)

INSERT INTO LOGIN (LOGIN, SENHA, CPF) VALUES
('ABC123', '123', '11111111111'),
('abc222', '222', '22222222222')

INSERT INTO EXTRATO (DATAOCORRENCIA, OCORRENCIA, AGENCIA, CONTA, CPF) VALUES
(GETDATE(), 'TRANSFERENCIA', 1122, '12345678', '11111111111'),
(GETDATE(), 'PAGAMENTO', 1122, '444444-X', '22222222222')

/*BUSCA USUARIO E SENHA*/
SELECT CASE	
	WHEN LOGIN = 'AaaabC123' AND SENHA = '1aaa23'
	THEN 1
	ELSE 0
	END AS RESULTADO
FROM LOGIN
WHERE LOGIN  = 'AaaabC123' AND SENHA = '1aaa23'